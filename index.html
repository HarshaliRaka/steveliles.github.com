
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <link rel="stylesheet" href="css/styles.css" type="text/css" media="screen"/>
    <link rel="alternate" type="application/rss+xml" title="ExoMemory" href="http://steveliles.github.com/rss.xml" />
    <link href='http://fonts.googleapis.com/css?family=Gochi+Hand' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:700' rel='stylesheet' type='text/css'>
    <meta name="description" content="Thoughts on Java, GWT, programming, and other geek stuff"></meta>
    <script type="text/javascript" src="google-analytics.js"></script>
    <title>Steve Liles' Blog</title>
  </head>
  <body>
    <div>
      <header class="site-header">
        <div class="left">
          <a href="/index.html"><h1>ExoMemory</h1></a>
          <h2>Because I'll forget it if I don't write it down...</h2>
        </div>
        <div class="right">
	  <a rel="author" href="http://steveliles.github.com/about_me.html"><img src="images/lego.png"></a>
        </div>
      </header>
      <nav>
        <span>
          <a rel="me" href="https://plus.google.com/105248011271585565954"><img src="http://www.google.com/images/icons/ui/gprofile_button-16.png" width="16" height="16"></a>
          <a rel="me" href="http://www.twitter.com/steveliles"><img src="http://twitter-badges.s3.amazonaws.com/t_mini-a.png" alt="Follow steveliles on Twitter"></a>
	  <a rel="me" href="http://uk.linkedin.com/in/steveliles"><img src="http://www.linkedin.com/img/webpromo/btn_in_20x15.png" width="20" height="15" alt="View my LinkedIn profile"></a>
	  <form action="http://www.google.com/search" method="get">
            <input type="hidden" name="q" value="site:steveliles.github.com">
            <input type="text" name="q" placeholder="search"></input>
          </form>
	  <a href="rss.xml"><img src="images/rss.png" width="16" height="16" alt="Subscribe to RSS feed"></a>
        </span>
      </nav>
      <div class="content">
        <div class="main">
	    <article itemscope itemtype="http://schema.org/BlogPosting" inLanguage="en-GB" isFamilyFriendly="true" wordCount="2,776" description="A description of my initial set up of Android projects with Maven & SVN for distributed team development">
              <span class="meta" itemprop="datePublished"><time datetime="2012-01-09">January 09, 2012</time></span>
              <a itemprop="url" href="setting_up_maven_android_and_svn_for_team_development_of_multiple_applications.html"><h1 itemprop="name" itemprop="headline">Setting up Maven, Android and SVN for team development of multiple applications</h1></a>
	      <span itemprop="articleBody"><p>Google's ADT is great if you're working alone, but falls short when a team needs to work on the same Android project. It gets worse when you have multiple projects - especially if some are library projects - and worse still if the development team is distributed.</p>

<p>The important things I think you want to enable in a team environment are:</p>

<ol>
<li>That the whole team can "get" the latest code quickly and easily</li>
<li>That the whole team can contributes updates to the codebase quickly and easily</li>
<li>That any new team member coming on-board can build <em>immediately</em> from check-out (given a short list of pre-requisites)</li>
<li>That any team member can build a signed apk for release to the market</li>
<li>New projects can be created quickly and easily with minimum of re-work <em>and</em> copy-paste in configuration</li>
</ol>

<p>Here's how I've set things up to support these goals...</p>

<h3>Pre-requisites</h3>

<p>I am assuming that:</p>

<ul>
<li>You use some form of source-code control (Subversion/GIT/other...). Of course you do :)</li>
<li>All developers will install Eclipse and ADT for themselves as a pre-requisite.</li>
<li>If, as a team, you use Maven and/or Continuous integration, all developers will also install m2eclipse and m2e-android eclipse plugins and Maven 3 (see <a href="android-maven-eclipse.html">previous article</a>).</li>
<li>You have some common practices in your team like, for example, checking out all projects as siblings in a single workspace directory (otherwise you'll have problems with sharing relative paths to referenced projects between developers).</li>
</ul>

<h3>Our set up</h3>

<p>I've set up projects in the workspace such that all of the following are siblings in a single workspace directory:</p>

<ul>
<li>A parent project that hosts most of the maven-android config as a parent pom.</li>
<li>A project that hosts the keystore, and is checked in to source-code control (I actually use the same project for both the parent pom and keystore).</li>
<li>A (Android Library) project that contains a copy of the market licensing code (Google recommend keeping a separate copy outside of the SDK install directory). Ours is checked in to SVN for convenient sharing.</li>
<li>Multiple Android library (apklib) projects for our own code that is shared between multiple apps (apk's).</li>
<li>Multiple Android (apk) projects</li>
</ul>

<p>Since most of the maven configuration is provided by the parent pom, each new project requires only minimal configuration. The parent pom for our android projects currently looks like this:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xsi:schemaLocation="
    http://maven.apache.org/POM/4.0.0 
    http://maven.apache.org/xsd/maven-4.0.0.xsd" 
  xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
  &lt;artifactId&gt;android&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;packaging&gt;pom&lt;/packaging&gt;
  &lt;build&gt;
    &lt;sourceDirectory&gt;src/java/main&lt;/sourceDirectory&gt;
    &lt;pluginManagement&gt;
      &lt;plugins&gt;
        &lt;!--This plugin's configuration is used to store 
                Eclipse m2e settings only. It has no influence 
                on the Maven build itself.--&gt;
        &lt;plugin&gt;
          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;
          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;
          &lt;version&gt;1.0.0&lt;/version&gt;
          &lt;configuration&gt;
            &lt;lifecycleMappingMetadata&gt;
              &lt;pluginExecutions&gt;
                &lt;pluginExecution&gt;
                  &lt;pluginExecutionFilter&gt;
                &lt;groupId&gt;
                  com.jayway.maven.plugins.android.generation2
            &lt;/groupId&gt;
                    &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;
                    &lt;versionRange&gt;[3.0.0,)&lt;/versionRange&gt;
                &lt;goals&gt;
                  &lt;goal&gt;proguard&lt;/goal&gt;
                &lt;/goals&gt;
              &lt;/pluginExecutionFilter&gt;
              &lt;action&gt;
                &lt;ignore&gt;&lt;/ignore&gt;
              &lt;/action&gt;
                &lt;/pluginExecution&gt;
              &lt;/pluginExecutions&gt;
            &lt;/lifecycleMappingMetadata&gt;
          &lt;/configuration&gt;
        &lt;/plugin&gt;
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.jayway.maven.plugins.android.generation2&lt;/groupId&gt;
        &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;androidManifestFile&gt;
            ${project.basedir}/AndroidManifest.xml
              &lt;/androidManifestFile&gt;
          &lt;assetsDirectory&gt;${project.basedir}/assets&lt;/assetsDirectory&gt;
          &lt;resourceDirectory&gt;${project.basedir}/res&lt;/resourceDirectory&gt;
          &lt;nativeLibrariesDirectory&gt;
            ${project.basedir}/src/main/native
          &lt;/nativeLibrariesDirectory&gt;
          &lt;sdk&gt;
            &lt;platform&gt;14&lt;/platform&gt;
          &lt;/sdk&gt;
          &lt;proguard&gt;
            &lt;skip&gt;false&lt;/skip&gt;
          &lt;/proguard&gt;
          &lt;sign&gt;
            &lt;debug&gt;false&lt;/debug&gt;
          &lt;/sign&gt;
          &lt;deleteConflictingFiles&gt;true&lt;/deleteConflictingFiles&gt;
          &lt;undeployBeforeDeploy&gt;true&lt;/undeployBeforeDeploy&gt;
        &lt;/configuration&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-jarsigner-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;signing&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;sign&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;inherited&gt;true&lt;/inherited&gt;
            &lt;configuration&gt;
              &lt;archiveDirectory&gt;&lt;/archiveDirectory&gt;
              &lt;includes&gt;
                &lt;include&gt;target/*.apk&lt;/include&gt;
              &lt;/includes&gt;
              &lt;keystore&gt;../android/keystore&lt;/keystore&gt;
              &lt;storepass&gt;keystore-password-goes-here&lt;/storepass&gt;
              &lt;keypass&gt;key-password-goes-here&lt;/keypass&gt;
              &lt;alias&gt;key-alias-goes-here&lt;/alias&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.3.2&lt;/version&gt;
        &lt;configuration&gt;
          &lt;source&gt;1.6&lt;/source&gt;
          &lt;target&gt;1.6&lt;/target&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;
</code></pre>

<p>An example of a pom from a library (apklib) project looks like this:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xsi:schemaLocation="
    http://maven.apache.org/POM/4.0.0 
    http://maven.apache.org/xsd/maven-4.0.0.xsd" 
  xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;parent&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;android&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;/parent&gt;
  &lt;artifactId&gt;android.util&lt;/artifactId&gt;
  &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;Android Utils&lt;/name&gt;
  &lt;packaging&gt;apklib&lt;/packaging&gt;
  &lt;description&gt;&lt;/description&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.android&lt;/groupId&gt;
      &lt;artifactId&gt;android&lt;/artifactId&gt;
      &lt;version&gt;2.2.1&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
        &lt;!-- made available to android by 
             "maven android sdk deployer" --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;android.support&lt;/groupId&gt;
      &lt;artifactId&gt;compatibility-v13&lt;/artifactId&gt;
      &lt;version&gt;r6&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;oauth.signpost&lt;/groupId&gt;
      &lt;artifactId&gt;signpost-core&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;oauth.signpost&lt;/groupId&gt;
      &lt;artifactId&gt;signpost-commonshttp4&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;
      &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;
      &lt;version&gt;2.1.0&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;scm&gt;
    &lt;connection&gt;scm:svn:svn://repo/project/trunk&lt;/connection&gt;
    &lt;developerConnection&gt;
      scm:svn:svn://repo/project/trunk
    &lt;/developerConnection&gt;
  &lt;/scm&gt;
&lt;/project&gt;
</code></pre>

<p>An example pom for an app (apk) project looks like this:</p>

<pre><code>&lt;project xsi:schemaLocation="
  http://maven.apache.org/POM/4.0.0 
  http://maven.apache.org/xsd/maven-4.0.0.xsd" 
  xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;parent&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;android&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;/parent&gt;
  &lt;artifactId&gt;android.ui&lt;/artifactId&gt;
  &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;apk&lt;/packaging&gt;
  &lt;description&gt;&lt;/description&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
      &lt;artifactId&gt;domain&lt;/artifactId&gt;
      &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;
      &lt;type&gt;jar&lt;/type&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
      &lt;artifactId&gt;android.util&lt;/artifactId&gt;
      &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;
      &lt;type&gt;apklib&lt;/type&gt;
    &lt;/dependency&gt;
    &lt;!-- this project contains a copy of 
             the sdk licensing code --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
      &lt;artifactId&gt;android.licensing&lt;/artifactId&gt;
      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
      &lt;type&gt;apklib&lt;/type&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.android&lt;/groupId&gt;
      &lt;artifactId&gt;android&lt;/artifactId&gt;
      &lt;version&gt;2.2.1&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
        &lt;!-- made available to android 
             by "maven android sdk deployer" --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;android.support&lt;/groupId&gt;
      &lt;artifactId&gt;compatibility-v13&lt;/artifactId&gt;
      &lt;version&gt;r6&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;oauth.signpost&lt;/groupId&gt;
      &lt;artifactId&gt;signpost-core&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;oauth.signpost&lt;/groupId&gt;
      &lt;artifactId&gt;signpost-commonshttp4&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;
      &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;
      &lt;version&gt;2.1.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- prevent commons-logging from being included by 
         the Google HTTP client dependencies, which creates 
         a truck load of warnings and eventually kills eclipse --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;commons-logging&lt;/groupId&gt;
        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
        &lt;version&gt;1.1.1&lt;/version&gt;
        &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;scm&gt;
    &lt;connection&gt;scm:svn:svn://repo/project/trunk&lt;/connection&gt;
    &lt;developerConnection&gt;
      scm:svn:svn://repo/project/trunk
    &lt;/developerConnection&gt;
  &lt;/scm&gt;
&lt;/project&gt;
</code></pre>

<h3>building a release</h3>

<p>Building a release, including running proguard to optimise and obfuscate the apk, and signing the apk from the shared keystore is now available from the maven cmdline with (as you'd expect):</p>

<pre><code>mvn clean package
</code></pre>

<p>Its still early days for us, so I'm sure there are still wrinkles to iron out, but so far it seems to be working pretty well.</p>
</span>

              <ul class="keywords">
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=android">android</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=ADT">ADT</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=maven">maven</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=team">team</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=subversion">subversion</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=release">release</a></li>
              </ul>
              <div style="clear:both"></div>

	        <a href="setting_up_maven_android_and_svn_for_team_development_of_multiple_applications.html">Comment on this post</a>

            </article>
	    <article itemscope itemtype="http://schema.org/BlogPosting" inLanguage="en-GB" isFamilyFriendly="true" wordCount="859" description="A description of how I got some existing ADT Android projects building with Maven for distributed team development and continuous integration">
              <span class="meta" itemprop="datePublished"><time datetime="2012-01-04">January 04, 2012</time></span>
              <a itemprop="url" href="converting_eclipse_adt_android_projects_to_build_with_maven.html"><h1 itemprop="name" itemprop="headline">Converting Eclipse ADT Android projects to build with Maven</h1></a>
	      <span itemprop="articleBody"><p>Getting Android Development Tools (ADT) for Eclipse to play nicely with Maven is quite a fiddle, involving a bunch of plugins for both Eclipse and Maven. Here's how I got it working.</p>

<h3>Plugins, Tools and Dependencies</h3>

<ol>
<li>The Maven-Android plugin is <a href="http://maven.apache.org/">Maven-3.0.3+</a> only, so you'll need to upgrade Maven if you are running an older version. The good news for Maven-2 users is the Maven guys worked hard to make 3 backwards compatible - and so far I've had no problems on some pretty complex projects.</li>
<li>Eclipse Helios (3.6) or Indigo (3.7)</li>
<li>The Android Developer Tools and SDK (of course).</li>
<li>The <a href="http://www.eclipse.org/m2e/download/">m2eclipse</a> Eclipse plugin (supposedly not required with Eclipse Indigo, but I had to install it)</li>
</ol>

<h3>Setup and Configuration</h3>

<p>First, install maven 3.0.3 (or whatever newer maven is available).</p>

<p>Next install the <a href="http://www.eclipse.org/m2e/download/">m2eclipse</a> plugin (you might want to check if you have it already - Indigo is supposed to come pre-supplied, but that probably depends on which Eclipse bundle you install. I usually go with Classic, and did not have m2eclipse. YMMV).</p>

<p>Now update your android sdk:</p>

<ul>
<li>Using sdk manager, install all api levels you are interested in, including "google apis by google inc."</li>
<li>note: be sure to accept the license agreement for each selected jar (the ? should change to a green tick for ALL).</li>
<li>note: I find that the sdk manager either does not install all ticked packages in one go, or incorrectly reports the number of packages remaining to be installed - it "completes" but there are still pending installs (the "install N packages..." button re-enables with N > 0). I find it safest to restart SDK manager between each attempt so that it correctly shows what is installed.</li>
</ul>

<p>If you want to work with Android 3 you need to perform an additional step. Maven Central does not have the jars available, so you'll need to use <a href="https://github.com/mosabua/maven-android-sdk-deployer">sdk deployer</a> to push them into your repository.</p>

<ul>
<li>check out with git (git clone https://github.com/mosabua/maven-android-sdk-deployer.git)</li>
<li>install android jars as required by running mvn from inside the sdk deployer project directory, example: <code>mvn install -P 1.6</code>, or install the whole lot with <code>mvn install</code></li>
<li><p>if you have a shared / remote / central repository as we do, you will want to deploy the android jars there too. To do this you need to fill two fields in the android-sdk-deployer's pom.xml that the creator <a href="https://github.com/mosabua">Manfred Moser</a> helpfully separated out:</p>

<pre><code>&lt;repo.id&gt;my-repository&lt;/repo.id&gt;
&lt;repo.url&gt;scp://my-repo-host/repository&lt;/repo.url&gt;
</code></pre></li>
</ul>

<p>OK, we're done with installing!</p>

<h3>Create your pom.xml</h3>

<p>There are various ways you can create a pom for your existing Android projects. I went with the simple expedient of using mvn archetype:generate ...</p>

<ul>
<li>from a directory you are happy to create projects in, execute <code>mvn archetype:generate</code></li>
<li>you will be presented with an enormous list of archetypes - type android and hit return</li>
<li>the list should have been filtered down to about 3 from "de.acquinet.android..."</li>
<li>select "de.akquinet.android.archetypes:android-quickstart" - for me this was option 1</li>
<li>follow the prompts to conclusion - this will create a simple android project, including the pom.xml for an apk project.</li>
</ul>

<p>Once you've done that you can copy the pom to your existing project(s) and modify it manually - this is what I did.</p>

<p>(Note: If you are starting a fresh new project you can just run <code>mvn clean eclipse:eclipse</code> to generate the eclipse project and classpath, then "import" the project into eclipse. After importing your project will just appear as a normal java project (neither maven nor android natures will be ascribed). To remedy that, right-click your project, go to configure -> convert to Maven project, both natures are added automatically and you're ready to rock'n'roll.)</p>

<h3>Integrate Eclipse and Maven</h3>

<p>OK, last part ... Getting Eclipse and Maven to play nicely.</p>

<p>If you open the project in Eclipse now you'll probably find that it doesn't like your pom.xml. When you open the pom with m2eclipse installed it will open with the graphical xml editor. You'll notice that there's an error <code>plugin execution not covered by lifecycle configuration...</code>. </p>

<p>Click the error and some details open up, including two quick fixes. Click the first quick fix ("discover new m2e connectors"). The following dialog pops up and after a short search, shows the m2e-android connector:</p>

<p><img src="https://lh4.googleusercontent.com/-YeihPZ0PxWQ/TwRWknaVQeI/AAAAAAAAIas/0NnoMugrFa4/s800/install-m2e-connectors.png" alt="dialog" /></p>

<p>Install the connector and the warnings <em>should</em> go away. Actually for me they did not - I don't know why, but I had to take the 2nd quick-fix option of turning it off in Eclipse. For me that's ok, as I want the maven build to be the master anyway.</p>

<p>Congrats, you should now have a happy Eclipse project, and be able to build it using maven as expected.</p>

<h3>What about android library projects?</h3>

<p>Well basically its the same deal. I actually started with the library projects. The main difference is <packaging> element in the pom should be set to apklib instead of apk.</p>
</span>

              <ul class="keywords">
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=android">android</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=eclipse">eclipse</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=ADT">ADT</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=maven">maven</a></li>
              </ul>
              <div style="clear:both"></div>

	        <a href="converting_eclipse_adt_android_projects_to_build_with_maven.html">Comment on this post</a>

            </article>
	    <article itemscope itemtype="http://schema.org/BlogPosting" inLanguage="en-GB" isFamilyFriendly="true" wordCount="337" description="Finally, the full src code for Android is available as part of the SDK download - though sadly its only available for source-level 14 and upwards at the moment.">
              <span class="meta" itemprop="datePublished"><time datetime="2011-12-20">December 20, 2011</time></span>
              <a itemprop="url" href="android_source_code_available.html"><h1 itemprop="name" itemprop="headline">Android Source Code available!</h1></a>
	      <span itemprop="articleBody"><p>I'm quite surprised it took this long, but as of 13th December 2011 the source-code for Android is finally available as part of the SDK downloads, and can be grabbed with the SDK Manager.</p>

<p>There's no jar file available yet, just a folder containing the source for API level 14 and upwards only. The Android dev who announced this stated that it is "extremely unlikely" that the source for earlier API levels would ever be made available as part of the SDK.</p>

<p>Android Developer Tools (Eclipse plugin) doesn't automatically link to this folder either, so you need to set it up manually.</p>

<p>First, get the source:</p>

<ol>
<li>Fire up the SDK Manager - from Eclipse's "Window" menu, select "Android SDK Manager".</li>
<li>Check the boxes next to "Sources for Android SDK" (at time of writing this is available for both API level 14 and 15).</li>
<li>Click the "Install X packages..." button (bottom right corner), and wait while your new goodies download and install.</li>
</ol>

<p>Once you're done downloading, head back to Eclipse and configure your Android project to use the source directory:</p>

<ol>
<li>In the package-explorer, locate the Android jar file (you may have to turn on "Show referenced libraries" from the little down-arrow icon in the top-right corner of the Package Explorer toolbar before it will show up in the list).</li>
<li>Right-click the jar and choose "Properties" - a dialog pops up.</li>
<li>Select "Java Source Attachment", then click "External Folder..."</li>
<li>Navigate to the source directory, which will be located inside your Android SDK install directory (mine is at /home/steve/dev/sdks/android-sdk-linux/sources/android-14. Select OK to leave the file-chooser dialog, and OK again to leave the jar Properties dialog.</li>
<li>Hover any Android class and ctrl-click (or place the caret on the class name and hit F3) to enjoy the source code for that class :)</li>
</ol>

<p>For the full source-code saga check out the <a href="http://code.google.com/p/android/issues/detail?id=979">issue-tracker entry</a> requesting the source to be made available (be prepared for a long read!)</p>
</span>

              <ul class="keywords">
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=Android">Android</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=Source">Source</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=Code">Code</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=SDK">SDK</a></li>
              </ul>
              <div style="clear:both"></div>

	        <a href="android_source_code_available.html">Comment on this post</a>

            </article>
	    <article itemscope itemtype="http://schema.org/BlogPosting" inLanguage="en-GB" isFamilyFriendly="true" wordCount="500" description="How to make a perforated postage-stamp (or old-fashioned postcard) border using the Inkscape vector graphics tool.">
              <span class="meta" itemprop="datePublished"><time datetime="2011-12-18">December 18, 2011</time></span>
              <a itemprop="url" href="perforated_postage_stamp_border_with_inkscape.html"><h1 itemprop="name" itemprop="headline">Perforated postage-stamp border with Inkscape</h1></a>
	      <span itemprop="articleBody"><p>This short tutorial explains how I created a curved-serrated border - such as you would find on a tear-off postage stamp - using the Inkscape vector graphics tool (v0.48.2). It is extremely easy to do, and shouldn't take more than 5 minutes.</p>

<h3>Getting Inkscape</h3>

<p>If you're running a debian based linux you can install Inkscape with:</p>

<pre><code>sudo apt-get install inkscape
</code></pre>

<p>Ubuntu users can install it using the graphical Ubuntu software centre. Downloads for other OS's can be found <a href="http://inkscape.org/download/">here</a>.</p>

<h3>Creating the perforated border</h3>

<p>First draw a rectangle using the <code>"rectangles and squares (F4)"</code> tool. Make this reasonably large. </p>

<p>Then select the <code>"circles, ellipses and arcs (F5)"</code> tool and draw a much smaller circle. Holding down the ctrl key while drawing the circle will lock the aspect ratio so that you don't end up with an ellipse.</p>

<p><img src="https://lh5.googleusercontent.com/-f7Ifgk1xqds/Tu4lanssEDI/AAAAAAAAH20/ZIkzqyhFnEM/s800/step-2.png" alt="Rectangle and circle" /></p>

<p>Next, select both the circle and the rectangle by first selecting the circle then holding down the shift key and selecting the rectangle.</p>

<p>Now from the <code>"Extensions"</code> menu, select <code>"Generate from path"</code> and in the sub-menu, select <code>"Pattern along path"</code>. The <code>"Pattern along Path"</code> dialog pops up. </p>

<p><img src="https://lh6.googleusercontent.com/-Q-jYlXWOous/Tu4laEZHkvI/AAAAAAAAH28/Sz3ydQTqghQ/s800/pattern-along-path.png" alt="Pattern along path dialog" /></p>

<p>Choose <code>"Repeated"</code> in the <code>"Copies of the pattern"</code> combo, in <code>"Deformation type"</code> choose <code>"Snake"</code>, and pick a number for <code>"Space between copies"</code> - this is the distance between each circle that will be cut out from the border of the rectangle, so good values depend on the size of your circle and subjective taste. Hit <code>"apply"</code>.</p>

<p><img src="https://lh3.googleusercontent.com/-ccgBpNnVZsY/Tu4laDpsFhI/AAAAAAAAH2s/qpmSfkjxo0M/s800/first-pattern-step.png" alt="Circles applied to the path" /></p>

<p>Now we want to <em>remove</em> the path created by the circles around the border of the rectangle. To do that, first select the circles around the edge of the rectangle, then (holding down shift) select the rectangle itself and then choose <code>"Difference"</code> from the <code>"Path"</code> menu.</p>

<p><img src="https://lh6.googleusercontent.com/-XoboYeO1yHM/Tu4lZbdS9DI/AAAAAAAAH2k/ZqTIKj2oecQ/s800/difference.png" alt="Path difference effect" /></p>

<p>Change the colour of your postage-stamp shape to black (fill and stroke), then select it and hit ctrl-c to copy it, then ctrl-v to paste a new copy. Re-select the original and choose <code>"Filters-&gt;Blurs-&gt;Evanescent"</code> - this creates a nice blurred shadow effect.</p>

<p>Select the new copy and change it to an off-white colour (I went for #fbfad4ff), then move it so that it sits just a few pixels above and to the left of the original (blurred shadow) shape.</p>

<p><img src="https://lh3.googleusercontent.com/-Pgk_1jBRtT0/Tu4lZThH_iI/AAAAAAAAH2g/XeJE1jFDNZU/s800/postage-stamp-inkscape.png" alt="the finished postage stamp in inkscape" /></p>

<p>That's it, all done! Now you can add whatever content you like to your stamp and then export as a bitmap image. Below you can see what mine looks like exported as a png. Notice that the corners aren't quite "right" - this is because I didn't spend any time trying to ensure that the rectangle side-lengths were appropriately divisible by the circle + the space between copies - something that's worth doing if you want to get your stamp to look "just right".</p>

<p><img src="https://lh6.googleusercontent.com/-jWvZBSpzLmA/Tu4lZKrXkhI/AAAAAAAAH2c/qrRRQYx43DQ/s800/postage-stamp.png" alt="png postage stamp" /></p>
</span>

              <ul class="keywords">
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=inkscape">inkscape</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=perforated">perforated</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=border">border</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=vector">vector</a></li>
              </ul>
              <div style="clear:both"></div>

	        <a href="perforated_postage_stamp_border_with_inkscape.html">Comment on this post</a>

            </article>
	    <article itemscope itemtype="http://schema.org/BlogPosting" inLanguage="en-GB" isFamilyFriendly="true" wordCount="227" description="Canonical currently package javahl 1.6 in the official repositories, making it difficult to run eclipse with subclipse 1.8 and subversion 1.7. Here's how I got it working.">
              <span class="meta" itemprop="datePublished"><time datetime="2011-12-16">December 16, 2011</time></span>
              <a itemprop="url" href="subversion_1_7_eclipse_integration_in_ubuntu.html"><h1 itemprop="name" itemprop="headline">Subversion 1.7 Eclipse integration in Ubuntu</h1></a>
	      <span itemprop="articleBody"><p>Getting subversion 1.7 integration working with Eclipse (3.7.1) and Subclipse 1.8 isn't all that straight-forward, because canonical currently support javahl 1.6 in their repositories. </p>

<p>If you don't want to switch repo's your best bet is to go with Subclipse 1.6 and the 1.6 version of javahl (and subversion) from the official Canonical Ubuntu repositories.</p>

<p>If you do want to go ahead with SVN 1.7, here's how I got it working by switching to repo's provided by dominik stadler:</p>

<ol>
<li>Add dominik's repository: <code>sudo apt-add-repository ppa:dominik-stadler/subversion-1.7</code></li>
<li>Update apt: <code>sudo apt-get update</code></li>
<li>Install libsvn-java: <code>sudo apt-get install libsvn-java</code></li>
<li>Install subversion 1.7: <code>sudo apt-get install subversion</code></li>
</ol>

<p>To enable Eclipse to see your libsvn-java installation, go to the eclipse install directory (I install in <code>/home/steve/dev/tools/eclipse</code>) and edit the eclipse.ini file. </p>

<p>You need to add <code>-Djava.library.path=/usr/lib/jni</code>, which is where libsvn-java's native libraries get installed. Add it immediately following <code>-vmargs</code>. My eclipse.ini file now looks like this:</p>

<pre><code>-startup
plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.100.v20110505
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
-vmargs
-Djava.library.path=/usr/lib/jni
-Xms40m
-Xmx600m
</code></pre>

<p>If you use subclipse but never previously installed javahl you probably see irritating warning dialogs the first time you do <em>anything</em> in Eclipse after a restart. Installing javahl correctly will prevent those :). Merry Christmas!</p>
</span>

              <ul class="keywords">
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=ubuntu">ubuntu</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=eclipse">eclipse</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=subversion">subversion</a></li>
                  <li><a itemprop="keywords" href="http://www.google.com/search?q=site:steveliles.github.com&q=javahl">javahl</a></li>
              </ul>
              <div style="clear:both"></div>

	        <a href="subversion_1_7_eclipse_integration_in_ubuntu.html">Comment on this post</a>

            </article>
        </div>
        <div class="sidebar">
          <div>
            <div class="twitter-feed" show="4" account="steveliles">
              <h5>Recent Tweets</h5>            
              <ul class="tweets">
                <li class="tweet-template" style="display:none">        
                  <span class="text"></span>&nbsp;<span class="date" format="yyyy"></span>
                </li>
              </ul>
              <a href="https://twitter.com/steveliles" class="twitter-follow-button" data-show-count="false">Follow @steveliles</a>
	      <script src="//platform.twitter.com/widgets.js" type="text/javascript"></script>
            </div>
          </div>
          <div>
            <a href="article-archive.html"><h5>Recent Posts</h5></a>
            <ul>
                <li><a href="setting_up_maven_android_and_svn_for_team_development_of_multiple_applications.html">Setting up Maven, Android and SVN for team development of multiple applications</a><span class="date"> - Jan 09, 2012</span></li>
                <li><a href="converting_eclipse_adt_android_projects_to_build_with_maven.html">Converting Eclipse ADT Android projects to build with Maven</a><span class="date"> - Jan 04, 2012</span></li>
                <li><a href="android_source_code_available.html">Android Source Code available!</a><span class="date"> - Dec 20, 2011</span></li>
                <li><a href="perforated_postage_stamp_border_with_inkscape.html">Perforated postage-stamp border with Inkscape</a><span class="date"> - Dec 18, 2011</span></li>
                <li><a href="subversion_1_7_eclipse_integration_in_ubuntu.html">Subversion 1.7 Eclipse integration in Ubuntu</a><span class="date"> - Dec 16, 2011</span></li>
            </ul>
            <a href="article-archive.html">Older posts...</a>
          </div>
        </div>
      </div>
      <nav>
        <div class="links">
          
          <div class="next"><a title="next" href="index_1.html">Older Posts</a></div>
        </div>
      </nav>
    </div>
    <script type="text/javascript" language="javascript" src="blog/blog.nocache.js"></script>
  </body>
</html>

